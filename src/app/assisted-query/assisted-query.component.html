<!-- <h1>Enter Assisted Query Below</h1> -->



<!-- <p>{{values}}</p> -->

<!-- <label for="query">Query:</label>
  <input type="text" id="query" name="query" (keyup)="onKey($event)">
    <br />
    <img [src]="graph_1" />
    <img [src]="graph_2" />
    <img [src]="graph_3" />

<ng-template [ngIf]="ifErupt">
  <img src="https://graph-demo.azurewebsites.net/graph_query?query=How%20is%20P126%E2%80%99s%20eruption%20rate%20compared%20to%20normal%20cases?" />
</ng-template> -->




<!-- (ngSubmit)="onSubmit(formGroup.value)" -->

 <!-- <div #graph></div> -->
 <div class="jumbotron text-center">
 	<h1 class = "row justify-content-center">Enter Query Below:</h1>
 

<div class="container mt-5">
	<div class="row justify-content-center">

		<div class="col-12 col-md-10 col-lg-8">
			<form class="card card-sm" [formGroup]="formGroup" (ngSubmit)="onSubmit(formGroup.value)"
				autocomplete="off">
				<!------------------------- Disable Autocomplete -------------------------->
				<input autocomplete="false" name="hidden" type="text" style="display:none;">
				<!------------------------------------------------------------------------->
				<div class="card-body row no-gutters align-items-center">
					<div class="col-auto">
						<i class="fas fa-search h4 text-body"></i>
					</div>
					<div class="col">
						<input class="form-control form-control-lg form-control-borderless" type="text" id="query"
              formControlName="query" spellcheck="false">
          </div>
						<div class="col-auto">
							<button class="btn btn-lg btn-success" type="submit" (click) = "findImages(formGroup.value); activate = !activate">Search</button>
						</div>
					</div>
			</form>
		</div>
	</div>
	<br>
</div>
</div>


<div *ngIf="activate" class="container-lg m-5" style="background:#F9F9F9">
    <h3 class="text-left pt-3">Query Result:</h3>
	<p class="text-left pb-1">Tables related to your search:</p>
	<div class="container">
		<div class="row justify-content-center">
			<table class="styled-table" *ngIf="activate">
				<thead>
					<tr>
						<th>Query</th>
						<th>Result</th>
					</tr>
				</thead>
				<tbody>
					<tr>
						<td>Percentage of patients who have more than 5 cavities</td>
						<td>15.6%</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>

<div *ngIf="activate" class="container-lg m-5" style="background:#F9F9F9">
    <h3 class="text-left pt-3">Associated Chart:</h3>
	<p class="text-left pb-1">Charts we calculated that may be related to your search:</p>
	<div class="row justify-content-center">
		<div class="border rounded m-4" id="vis"></div>
	</div>
</div>

<div *ngIf="images.length > 0" class="container-lg m-5" style="background:#F9F9F9">
    <h3 class="text-left pt-3">Associated Images</h3>
	<p class="text-left pb-1">Images we found associated to your search:</p>
	<div class="row">
		<div class="column">
			<div *ngFor = "let image of images; index as i">
				<ng-container [ngSwitch]="true">
					<div *ngSwitchCase="(i+1)%3 === 0 && i > 0"></div>
					<div *ngSwitchCase="((i+1)%3)%2 === 0 && i > 0"></div>
					<div *ngSwitchDefault>
						<img [src] = "getimageurl + images[i]" />
					</div>
				</ng-container>
			</div>
		</div>

		<div class="column">
			<div *ngFor = "let image of images; index as i">
				<ng-container [ngSwitch]="true">
					<div *ngSwitchCase="(i+1)%3 === 0 && i > 0"></div>
					<div *ngSwitchCase="((i+1)%3)%2 === 0 && i > 0 && (i+1)%3>0">
						<img [src] = "getimageurl + images[i]" />
					</div>
					<div *ngSwitchDefault></div>
				</ng-container>
			</div>
		</div>

		<div class="column">
			<div *ngFor = "let image of images; index as i">
				<ng-container [ngSwitch]="true">
					<div *ngSwitchCase="(i+1)%3 === 0 && i > 0">
						<img [src] = "getimageurl + images[i]" />
					</div>
					<div *ngSwitchCase="((i+1)%3)%2 === 0 && i > 0"></div>
					<div *ngSwitchDefault></div>
				</ng-container>
			</div>
		</div>

	</div>

  </div>

